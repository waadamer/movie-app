<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Film's Details</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="shortcut icon" href="img/icon.png" type="image/x-icon">

    <style>
        body {
            background: linear-gradient(to left, #292b4c, rgb(36, 24, 40), #292b4c);
        }
    </style>
</head>

<body>
    <!-- header  -->
    <header class="header" id="header" style="background-color: #292b4c;">
        <div class="header__content">
            <a href="#" class="logo"><img src="img/logo.png" alt="Cinema Master logo" width="100px" height="30px"> </a>

            <div class="header__actions">
                <i class="ri-notification-2-line"></i>
                <i class="ri-account-circle-line"></i>

                <div class="header__menu" id="header-menu">
                    <i class="ri-menu-line"></i>
                </div>
            </div>
        </div>



    </header>
    <!-- nav side bar  -->

    <nav class="nav" id="nav">
        <div class="nav_menu" id="nav_menu">
            <a href="#" class="nav-logo"><img src="img/logo.png" alt="Cinema Master logo" width="100px" height="30px">
            </a>
            <ul class="navList">
                <li class="nav-item">
                    <a href="index.html" class="navLink">
                        <i class="ri-home-5-line"></i>
                        <span>Home</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="favorites.html" class="navLink">
                        <i class="ri-heart-3-line"></i>
                        <span>Favorites</span>
                    </a>
                </li>


                <!-- ********************************** -->
                <section class="detaiels">
                    <!-- <div class="det">
                  <div class="left">
                     <img src="img/movie-1.png" alt="" class="imgleft">
                  </div>
                  <div class="right">
                     <h1 class="name">Alaa mousa</h1>
                     <h3 class="caption">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatibus laboriosam iusto voluptate
                        conse
                     </h3>
                     <div class="deticon">
                        <i class="fa-solid fa-arrow-up-from-bracket"></i>
                        <i class="fa-solid fa-circle-play"></i>
                        <i class="fa-solid fa-bookmark"></i>
                     </div>
                  </div>
               </div> -->
                </section>
                <a href="" class="navLink"></a>
                <div class="nav-close" id="nav_close">
                    <i class="ri-close-line"></i>
                </div>
    </nav>
    <!-- ********************************** -->
    <section class="details" id="details"></section>

    <script>
        async function fetchMovieDetails(movieId) {
            try {
                const response = await fetch(
                    `https://api.themoviedb.org/3/movie/${movieId}?api_key=3fd2be6f0c70a2a598f084ddfb75487c`
                );
                if (!response.ok) {
                    throw new Error(`Could not fetch movie details`);
                }
                const movie = await response.json();
                displayMovieDetails(movie);
            } catch (error) {
                console.error(error);
            }
        }

        function displayMovieDetails(movie) {
            const container = document.getElementById("details");
            container.innerHTML = `
            
        <div class="det" id="det">
        <div class="left">
            <img src="https://image.tmdb.org/t/p/w1280${movie.poster_path}" alt="${movie.title}"" alt="" class="imgleft">
        </div>
        <div class="right">
            <h1 class="name">${movie.title}</h1> 
            <h3 class="caption">
                <strong class="stron">Overview:</strong> ${movie.overview}
            </h3> 
            <p class="st"><strong class="stron">Release Date : </strong> ${movie.release_date}</p>
            <p><strong class="stron">Rating : </strong> ${movie.vote_average}</p>
            <div class="deticon">
        
            <i class="fa-solid fa-arrow-up-from-bracket"></i>
            <i class="fa-solid fa-circle-play"></i>
            <i class="fa-solid fa-bookmark"></i>
            </div>
        </div>
    </div>`
        }

        // Get the movie ID from URL parameters and fetch details
        const urlParams = new URLSearchParams(window.location.search);
        const movieId = urlParams.get("movieId");
        if (movieId) {
            fetchMovieDetails(movieId);
        }
    </script>
    <script src="main.js"></script>
</body>

</html>